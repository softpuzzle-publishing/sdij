<!DOCTYPE html>
<html lang="ko">

<head>
    @@include('@@webRoot/_include/_head.html')
</head>

<body>

    <div id="wrap">

        @@include('@@webRoot/_include/_header.html')

        <div id="container-block">

            @@include('@@webRoot/_include/_aside.html')

            <main id="content" role="main">

                <!-- 컨텐츠 시작 -->
                <h2 class="title">수업 계획</h2>
                <div class="p-3 border-bottom">
                    <div class="row justify-content-between">
                        <div class="col-auto">
                            <div class="d-flex align-items-center">
                                <select name="" id="" class="custom-select w-auto mr-2">
                                    <option value="">관</option>
                                </select>
                                <select name="" id="" class="custom-select w-auto mr-2">
                                    <option value="">반</option>
                                </select>
                                <select name="" id="" class="custom-select w-auto mr-2">
                                    <option value="">구분</option>
                                </select>
                                <select name="" id="" class="custom-select w-auto mr-2">
                                    <option value="">강사</option>
                                </select>
                                <select name="" id="" class="custom-select w-auto mr-2">
                                    <option value="">조치</option>
                                </select>
                                <select name="" id="" class="custom-select w-auto mr-2">
                                    <option value="">상태</option>
                                </select>
                                <select name="" id="" class="custom-select w-auto mr-4">
                                    <option value="">정원초과</option>
                                </select>
                                <select name="" id="" class="custom-select w-auto mr-2">
                                    <option value="">수업명</option>
                                </select>
                                <input type="text" class="form-control w-auto mr-2">
                                <button type="button" class="btn btn-dark">검색</button>
                            </div>
                        </div>
                        <div class="col-auto">
                            <button type="button" class="btn btn-dark">파일업로드</button>
                            <button type="button" class="btn btn-dark ml-1">파일다운로드</button>
                            <button type="button" class="btn btn-dark ml-1" data-toggle="modal" data-target="#modal-new-class-add">등록</button>
                        </div>
                    </div>
                </div>
                <div class="p-3">
                    <div class="row align-items-center justify-content-between mb-2">
                        <div class="col-auto">
                            <strong class="mr-2">수업</strong>총 ###건
                        </div>
                        <div class="col-auto">
                            <button type="button" class="btn btn-dark btn-sm" data-toggle="modal" data-target="#modal-opening-status">관별개강현황</button>
                            <button type="button" class="btn btn-dark btn-sm ml-1" data-toggle="modal" data-target="#modal-fixed-number-edit">기준정원변경</button>
                        </div>
                    </div>
                    <div class="main_search_result_list">
                        <!-- softpuzzle에서 쓰는 datatable 고정 클래스명 -->
                        <table class="table table-center" id="datatable1">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>관</th>
                                    <th>구분</th>
                                    <th>반</th>
                                    <th>과목</th>
                                    <th>수업명</th>
                                    <th>강사</th>
                                    <th>분반</th>
                                    <th>강의실</th>
                                    <th>요일</th>
                                    <th>교시</th>
                                    <th>상태</th>
                                    <th>조치필요</th>
                                    <th>모집</th>
                                </tr>
                            </thead>
                            <tbody>
                                @@for (var i = 10; i > 0; i--) {
                                <tr>
                                    <td>`+ i +`</td>
                                    <td></td>
                                    <td>선택</td>
                                    <td></td>
                                    <td>언어와 매체</td>
                                    <td>언어와 매체</td>
                                    <td>김강사</td>
                                    <td>
                                        <a href="javascript:;" class="text-underline">2</a>
                                    </td>
                                    <td>
                                        <a href="#modal-lecture-room-change" class="text-underline" data-toggle="modal">N관 101호</a>
                                    </td>
                                    <td>월</td>
                                    <td>3-3</td>
                                    <td>
                                        <a href="javascript:;" class="text-underline">모집</a>
                                    </td>
                                    <td>
                                        <div class="action">
                                            <span class="active" data-toggle="modal" data-target="#modal-new-class-add">입력</span>
                                            <a href="learning_timetable_change.html#tab3" target="_blank" class="active">충돌</a>
                                            <span class="active" data-toggle="modal" data-target="#modal-make-up">보강</span>
                                            <span class="active" data-toggle="modal" data-target="#modal-dividing-add">분반</span>
                                            <span>공지</span>
                                        </div>
                                    </td>
                                    <td>120/150</td>
                                </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                    @@include('@@webRoot/_include/_pagination.html')
                </div>
                <div class="hr"></div>
                <div class="p-3">
                    <div class="row align-items-center justify-content-between mb-2">
                        <div class="col-auto">
                            <strong class="mr-2">분반</strong>총 ###건
                        </div>
                        <div class="col-auto">
                            <button type="button" class="btn btn-dark btn-sm">일정 변경</button>
                            <button type="button" class="btn btn-dark btn-sm ml-1" data-toggle="modal" data-target="#modal-dividing-add">분반 추가</button>
                        </div>
                    </div>
                    <div class="main_search_result_list">
                        <!-- softpuzzle에서 쓰는 datatable 고정 클래스명 -->
                        <table class="table table-center" id="datatable1">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>관</th>
                                    <th>구분</th>
                                    <th>수업명</th>
                                    <th>강사</th>
                                    <th>분반</th>
                                    <th>강의실</th>
                                    <th>요일</th>
                                    <th>교시</th>
                                    <th>상태</th>
                                    <th>모집/정원</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td rowspan="3">
                                        10
                                    </td>
                                    <td rowspan="3">브릿지관</td>
                                    <td rowspan="3">선택</td>
                                    <td rowspan="3">언어와 매체</td>
                                    <td rowspan="3">김강사</td>
                                    <td>1</td>
                                    <td>
                                        <a href="#modal-lecture-room-change" class="text-underline" data-toggle="modal">N관 101호</a>
                                    </td>
                                    <td>월</td>
                                    <td>3-3</td>
                                    <td>확정</td>
                                    <td>120/150</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>
                                        <a href="#modal-lecture-room-change" class="text-underline" data-toggle="modal">N관 102호</a>
                                    </td>
                                    <td>월</td>
                                    <td>3-3</td>
                                    <td>미확정</td>
                                    <td>60/70</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- 컨텐츠 끝 -->

            </main>

        </div>

        @@include('@@webRoot/_include/_footer.html')

    </div>

    @@include('@@webRoot/_include/_modal.html')

    <!-- fullcalander v4 -->
    <script src='../assets/lib/fullcalendar/core/main.js'></script>
    <script src='../assets/lib/fullcalendar/core/locales/ko.js'></script>
    <script src='../assets/lib/fullcalendar/interaction/main.js'></script>
    <script src='../assets/lib/fullcalendar/daygrid/main.js'></script>
    <script src='../assets/lib/fullcalendar/timegrid/main.js'></script>

    <script>
        var calendarEl = document.getElementById('calendar');
        var calendar;
        //보강 개설 팝업 열때
        $('#modal-make-up').on('shown.bs.modal', function (event) {
            calendar = new FullCalendar.Calendar(calendarEl, {
                locale: 'ko',
                plugins: [ 'interaction', 'dayGrid', 'timeGrid' ],
                header: {
                    left: 'today',
                    center: 'prev,title,next',
                    right: ''
                },
                defaultDate: '2022-03-15',
                defaultView: 'timeGridWeek',
                allDaySlot: false,
                height: 'parent',
                eventDisplay: 'block',
                minTime: '08:00:00',
                maxTime: '23:00:00',
                //slotDuration: '01:00:00', //1시간 단위
                slotLabelInterval: 30,
                slotLabelFormat: {
                    hour: 'numeric',
                    minute: '2-digit',
                    omitZeroMinute: false,
                    hour12: false
                },
                firstDay: 1, //월요일부터 시작
                selectable: true,
                dateClick: function(info) { //날짜 클릭
                    alert('Clicked on: ' + info.dateStr);
                },
                eventClick: function (info) { //일정 클릭
                    alert('Event: ' + info.event.title);
                },
                events: [
                    {
                        start:"2022-03-16T11:00:00",
                        end:"2022-03-16T11:30:00",
                        title:"1",
                        className: "level-1"
                    },
                    {
                        start:"2022-03-16T11:30:00",
                        end:"2022-03-16T12:00:00",
                        title:"15",
                        className: "level-2"
                    },
                    {
                        start:"2022-03-16T13:00:00",
                        end:"2022-03-16T13:30:00",
                        title:"40",
                        className: "level-3"
                    },
                    {
                        start:"2022-03-16T13:30:00",
                        end:"2022-03-16T14:00:00",
                        title:"70",
                        className: "level-4"
                    },
                    {
                        start:"2022-03-18T10:00:00",
                        end:"2022-03-18T12:00:00",
                        title:"강사일정",
                        className: "scheduled"
                    }
                ]
            });
            calendar.render();
        });
        //보강 개설 팝업 닫을때
        $('#modal-make-up').on('hidden.bs.modal', function (event) {
            calendar.destroy();
        });

    </script>

</body>

</html>